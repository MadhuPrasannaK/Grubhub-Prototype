let Restaurants,getRestaurantMenu;_375‍.x([["handle_request",()=>handle_request]]);_375‍.w("../../models/restaurant",[["default",["Restaurants"],function(v){Restaurants=v}]]);_375‍.w("./getMenu",[["*",null,function(v){getRestaurantMenu=v}]]);


const handle_request = async (restaurant_id, callback) => {
    let restaurant = await Restaurants.findOne({
        _id: restaurant_id
    }).lean();
    if (!restaurant) {
        callback({
            message: "Restaurant not found in DB!"
        }, null)
    }
    let menu = await getRestaurantMenu.handle_request(restaurant_id, null)
    restaurant.menu = menu;
    callback(null, {
        current_restaurant: restaurant
    })
}


