{"ast":null,"code":"import _defineProperty from \"/Users/admin/Downloads/Lab2-013708071/Lab2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/admin/Downloads/Lab2-013708071/Lab2/client/src/components/Search/SearchResults.jsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport _ from \"lodash\";\nimport filterFactory, { selectFilter } from \"react-bootstrap-table2-filter\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport \"react-bootstrap-table-next/dist/react-bootstrap-table2.min.css\";\nimport paginationFactory, { PaginationProvider, PaginationTotalStandalone, PaginationListStandalone } from \"react-bootstrap-table2-paginator\";\nimport 'react-bootstrap-table2-paginator/dist/react-bootstrap-table2-paginator.min.css';\nimport Nabvigbar from \"../Navbar/Navbar\";\nimport PageListRenderer from \"../PageListRenderer\";\nconst paginationOption = {\n  custom: true\n};\n\nclass SearchResults extends Component {\n  constructor(props) {\n    super(props);\n\n    this.restaurantNameFormatter = (cell, row) => {\n      let detailpage_link = \"/restaurant/detail/\".concat(row._id);\n      return React.createElement(Link, {\n        to: detailpage_link,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, cell);\n    };\n\n    let cuisines = this.props.search_results && this.props.search_results.length ? _.chain(this.props.search_results).map(\"cuisine\").uniq().map(each => ({\n      value: each,\n      label: each\n    })).value() : [];\n    this.state = {\n      search_results: [],\n      restaurant_list_columns: [{\n        dataField: \"_id\",\n        text: \"ID\",\n        hidden: true\n      }, {\n        dataField: \"name\",\n        text: \"Name\",\n        formatter: this.restaurantNameFormatter\n      }, {\n        dataField: \"address\",\n        text: \"Location\"\n      }, {\n        dataField: \"cuisine\",\n        text: \"Cuisine\",\n        formatter: cell => cuisines.filter(opt => opt.label === cell)[0].label || \"\",\n        filter: selectFilter({\n          options: cuisines\n        })\n      }]\n    };\n  }\n\n  componentDidMount() {\n    const search_results = this.props.search_results;\n\n    if (search_results && search_results.length) {\n      this.setState({\n        search_results\n      });\n    }\n  }\n\n  render() {\n    const options = {\n      sizePerPage: 1,\n      pageListRenderer: props => PageListRenderer(_objectSpread({}, props)),\n      custom: true,\n      totalSize: this.props.search_results.length\n    };\n    const pagination = paginationFactory(options);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(Nabvigbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), this.state.search_results && this.state.search_results.length ? React.createElement(\"div\", {\n      className: \"container shadow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(PaginationProvider, {\n      pagination: pagination,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, ({\n      paginationProps,\n      paginationTableProps\n    }) => React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(PaginationTotalStandalone, Object.assign({}, paginationProps, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    })), React.createElement(BootstrapTable, Object.assign({\n      keyField: \"id\",\n      data: this.state.search_results,\n      columns: this.state.restaurant_list_columns,\n      filter: filterFactory(),\n      bordered: true,\n      hover: true,\n      condensed: true,\n      striped: true\n    }, paginationTableProps, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    })), React.createElement(PaginationListStandalone, Object.assign({}, paginationProps, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }))))) : React.createElement(\"div\", {\n      className: \"container shadow mx-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"Could find any restaurant serving this. Try finding another dish?\")));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  search_results: state.buyer.search_results\n});\n\nexport default connect(mapStateToProps)(SearchResults);","map":{"version":3,"sources":["/Users/admin/Downloads/Lab2-013708071/Lab2/client/src/components/Search/SearchResults.jsx"],"names":["React","Component","connect","Link","_","filterFactory","selectFilter","BootstrapTable","paginationFactory","PaginationProvider","PaginationTotalStandalone","PaginationListStandalone","Nabvigbar","PageListRenderer","paginationOption","custom","SearchResults","constructor","props","restaurantNameFormatter","cell","row","detailpage_link","_id","cuisines","search_results","length","chain","map","uniq","each","value","label","state","restaurant_list_columns","dataField","text","hidden","formatter","filter","opt","options","componentDidMount","setState","render","sizePerPage","pageListRenderer","totalSize","pagination","paginationProps","paginationTableProps","mapStateToProps","buyer"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport _ from \"lodash\";\nimport filterFactory, { selectFilter } from \"react-bootstrap-table2-filter\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport \"react-bootstrap-table-next/dist/react-bootstrap-table2.min.css\";\nimport paginationFactory, {\n  PaginationProvider,\n  PaginationTotalStandalone,\n  PaginationListStandalone\n} from \"react-bootstrap-table2-paginator\";\nimport 'react-bootstrap-table2-paginator/dist/react-bootstrap-table2-paginator.min.css';\nimport Nabvigbar from \"../Navbar/Navbar\";\nimport PageListRenderer from \"../PageListRenderer\";\n\nconst paginationOption = {\n  custom: true\n};\n\nclass SearchResults extends Component {\n  constructor(props) {\n    super(props);\n    let cuisines =\n      this.props.search_results && this.props.search_results.length\n        ? _.chain(this.props.search_results)\n            .map(\"cuisine\")\n            .uniq()\n            .map(each => ({\n              value: each,\n              label: each\n            }))\n            .value()\n        : [];\n    this.state = {\n      search_results: [],\n      restaurant_list_columns: [\n        {\n          dataField: \"_id\",\n          text: \"ID\",\n          hidden: true\n        },\n        {\n          dataField: \"name\",\n          text: \"Name\",\n          formatter: this.restaurantNameFormatter\n        },\n        {\n          dataField: \"address\",\n          text: \"Location\"\n        },\n        {\n          dataField: \"cuisine\",\n          text: \"Cuisine\",\n          formatter: cell =>\n            cuisines.filter(opt => opt.label === cell)[0].label || \"\",\n          filter: selectFilter({\n            options: cuisines\n          })\n        }\n      ]\n    };\n  }\n\n  restaurantNameFormatter = (cell, row) => {\n    let detailpage_link = `/restaurant/detail/${row._id}`;\n    return <Link to={detailpage_link}>{cell}</Link>;\n  };\n  componentDidMount() {\n    const search_results = this.props.search_results;\n    if (search_results && search_results.length) {\n      this.setState({\n        search_results\n      });\n    }\n  }\n\n  render() {\n    const options = {\n      sizePerPage: 1,\n      pageListRenderer: props => PageListRenderer({ ...props }),\n      custom: true,\n      totalSize: this.props.search_results.length\n    };\n\n    const pagination = paginationFactory(options);\n    return (\n      <div>\n        <Nabvigbar></Nabvigbar>\n        {this.state.search_results && this.state.search_results.length ? (\n          <div className=\"container shadow\">\n\n            <PaginationProvider pagination={pagination}>\n              {({ paginationProps, paginationTableProps }) => (\n                <div>\n                  <PaginationTotalStandalone {...paginationProps} />\n                  <BootstrapTable\n                    keyField=\"id\"\n                    data={this.state.search_results}\n                    columns={this.state.restaurant_list_columns}\n                    filter={filterFactory()}\n                    bordered={true}\n                    hover\n                    condensed\n                    striped\n                    {...paginationTableProps}\n                  />\n                  <PaginationListStandalone {...paginationProps} />\n                </div>\n              )}\n          </PaginationProvider> \n          \n          </div>\n        ) : (\n          <div className=\"container shadow mx-auto\">\n            <p>\n              Could find any restaurant serving this. Try finding another dish?\n            </p>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  search_results: state.buyer.search_results\n});\n\nexport default connect(mapStateToProps)(SearchResults);\n"]},"metadata":{},"sourceType":"module"}