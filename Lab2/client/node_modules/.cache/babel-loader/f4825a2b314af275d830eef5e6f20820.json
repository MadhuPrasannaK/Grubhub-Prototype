{"ast":null,"code":"var _jsxFileName = \"/Users/admin/Downloads/Lab2-013708071/Lab2/client/src/components/Cart/Cart.jsx\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport \"react-bootstrap-table-next/dist/react-bootstrap-table2.min.css\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport _ from \"lodash\";\nimport { buyerActions } from \"../../js/actions/index\";\nimport empty from \"../../images/emptyCart.svg\";\nimport { Image } from \"react-bootstrap\";\nimport \"./style.css\";\nimport Navigbar from \"../Navbar/Navbar\";\n\nclass Cart extends Component {\n  constructor() {\n    super();\n\n    this.handlePlaceOrder = e => {\n      e.preventDefault();\n      const _this$state = this.state,\n            cart = _this$state.cart,\n            total_amount = _this$state.total_amount;\n      const _this$props = this.props,\n            user_id = _this$props.user_id,\n            restaurant_id = _this$props.restaurant_id;\n      this.props.placeOrder({\n        cart,\n        total_amount,\n        user_id,\n        restaurant_id\n      });\n    };\n\n    this.state = {\n      cart: [],\n      total_amount: 0,\n      cart_columns: [{\n        dataField: \"name\",\n        text: \"Dish Name\"\n      }, {\n        dataField: \"quantity\",\n        text: \"Quantity\"\n      }, {\n        dataField: \"price\",\n        text: \"Price\"\n      }]\n    };\n  }\n\n  componentDidMount() {\n    const cart = this.props.cart;\n    const total_amount = cart && cart.length ? _.chain(cart).map(\"price\").reduce((sum, dish) => sum + dish, 0).value() : 0;\n    this.setState({\n      cart,\n      total_amount\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.cart && nextProps.cart.length) {\n      const cart = nextProps.cart;\n      const total_amount = cart && cart.length ? _.chain(cart).map(\"price\").reduce((sum, dish) => sum + dish, 0).value() : 0;\n      this.setState({\n        cart,\n        total_amount\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(Navigbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"cart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, this.state.cart && this.state.cart.length ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(BootstrapTable, {\n      keyField: \"name\",\n      data: this.state.cart,\n      columns: this.state.cart_columns,\n      bordered: true,\n      hover: true,\n      condensed: true,\n      striped: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"h6\", {\n      className: \"float-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Total Amount Due at checkout: $\", this.state.total_amount)), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"place_order\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      id: \"placeOrder\",\n      className: \"btn btn-danger float-right\",\n      onClick: this.handlePlaceOrder,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Confirm Order\"))) : React.createElement(\"div\", {\n      className: \"empty_cart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(Image, {\n      src: empty,\n      rounded: true,\n      width: \"200px\",\n      height: \"200px\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"There is nothing in your cart...\"))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  cart: state.buyer.cart,\n  user_id: state.user._id,\n  restaurant_id: state.buyer.current_restaurant._id\n});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  placeOrder: payload => dispatch(buyerActions.placeOrder(payload, ownProps))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart);","map":{"version":3,"sources":["/Users/admin/Downloads/Lab2-013708071/Lab2/client/src/components/Cart/Cart.jsx"],"names":["React","Component","connect","BootstrapTable","_","buyerActions","Image","Navigbar","Cart","constructor","handlePlaceOrder","e","preventDefault","state","cart","total_amount","props","user_id","restaurant_id","placeOrder","cart_columns","dataField","text","componentDidMount","length","chain","map","reduce","sum","dish","value","setState","componentWillReceiveProps","nextProps","render","empty","mapStateToProps","buyer","user","_id","current_restaurant","mapDispatchToProps","dispatch","ownProps","payload"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport \"react-bootstrap-table-next/dist/react-bootstrap-table2.min.css\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport _ from \"lodash\";\nimport { buyerActions } from \"../../js/actions/index\";\nimport empty from \"../../images/emptyCart.svg\";\nimport { Image } from \"react-bootstrap\";\nimport \"./style.css\";\nimport Navigbar from \"../Navbar/Navbar\";\n\nclass Cart extends Component {\n  constructor() {\n    super();\n    this.state = {\n      cart: [],\n      total_amount: 0,\n      cart_columns: [\n        {\n          dataField: \"name\",\n          text: \"Dish Name\"\n        },\n        {\n          dataField: \"quantity\",\n          text: \"Quantity\"\n        },\n        {\n          dataField: \"price\",\n          text: \"Price\"\n        }\n      ]\n    };\n  }\n\n  componentDidMount() {\n    const cart = this.props.cart;\n    const total_amount =\n      cart && cart.length\n        ? _.chain(cart)\n            .map(\"price\")\n            .reduce((sum, dish) => sum + dish, 0)\n            .value()\n        : 0;\n    this.setState({\n      cart,\n      total_amount\n    });\n  }\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.cart && nextProps.cart.length) {\n      const cart = nextProps.cart;\n      const total_amount =\n        cart && cart.length\n          ? _.chain(cart)\n              .map(\"price\")\n              .reduce((sum, dish) => sum + dish, 0)\n              .value()\n          : 0;\n      this.setState({\n        cart,\n        total_amount\n      });\n    }\n  }\n\n  handlePlaceOrder = e => {\n    e.preventDefault();\n    const { cart, total_amount } = this.state;\n    const { user_id, restaurant_id } = this.props;\n    this.props.placeOrder({\n      cart,\n      total_amount,\n      user_id,\n      restaurant_id\n    });\n  };\n  render() {\n    return (\n      <div>\n        <Navigbar />\n        <div className=\"cart\">\n          {this.state.cart && this.state.cart.length ? (\n            <div>\n              <BootstrapTable\n                keyField=\"name\"\n                data={this.state.cart}\n                columns={this.state.cart_columns}\n                bordered={true}\n                hover\n                condensed\n                striped\n              />\n              <div>\n                <h6 className=\"float-right\">\n                  Total Amount Due at checkout: ${this.state.total_amount}\n                </h6>\n              </div>\n              <br></br>\n              <br></br>\n              <div className=\"place_order\">\n                <button\n                  id=\"placeOrder\"\n                  className=\"btn btn-danger float-right\"\n                  onClick={this.handlePlaceOrder}\n                >\n                  Confirm Order\n                </button>\n              </div>\n            </div>\n          ) : (\n            <div className=\"empty_cart\">\n              <Image src={empty} rounded width=\"200px\" height=\"200px\" />\n              <h3>There is nothing in your cart...</h3>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  cart: state.buyer.cart,\n  user_id: state.user._id,\n  restaurant_id: state.buyer.current_restaurant._id\n});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  placeOrder: payload => dispatch(buyerActions.placeOrder(payload, ownProps))\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Cart);\n"]},"metadata":{},"sourceType":"module"}