{"ast":null,"code":"var _jsxFileName = \"/Users/admin/Desktop/Lab2-013708071/Lab2/client/src/components/Order/OrderDetails.jsx\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { vendorActions, messageActions } from \"../../js/actions\";\nimport \"react-bootstrap-table-next/dist/react-bootstrap-table2.min.css\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport Sidebar from \"../Sidebar/Sidebar\";\nimport Navigationbar from \"../Navbar/Navbar\";\nimport { Accordion, Card, Button } from \"react-bootstrap\";\nimport \"./style.css\";\nconst columns = [{\n  dataField: \"name\",\n  text: \"Name\"\n}, {\n  dataField: \"quantity\",\n  text: \"Quantity\"\n}];\n\nclass Orderdetails extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.id]: e.target.value\n      });\n    };\n\n    this.handlePushMessage = e => {\n      e.preventDefault();\n      const payload = {\n        account_type: this.props.user.account_type,\n        message_body: this.state.message_body,\n        _id: this.state.order._id\n      };\n      this.props.pushMessage(payload);\n    };\n\n    this.state = {\n      order: {\n        _id: \"\",\n        name: \"\",\n        address: \"\",\n        status: \"\",\n        amount: \"\",\n        dishes: [],\n        buyer_messages: [],\n        vendor_messages: []\n      },\n      message_body: \"\"\n    };\n  }\n\n  componentDidMount() {\n    const payload = {\n      order_id: this.props.match.params.order_id\n    };\n    this.props.getOrderDetails(payload);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const _nextProps$order = nextProps.order,\n          _id = _nextProps$order._id,\n          status = _nextProps$order.status,\n          amount = _nextProps$order.amount,\n          dishes = _nextProps$order.dishes,\n          buyer_messages = _nextProps$order.buyer_messages,\n          vendor_messages = _nextProps$order.vendor_messages;\n    const _nextProps$order$buye = nextProps.order.buyer,\n          name = _nextProps$order$buye.name,\n          address = _nextProps$order$buye.address;\n    console.log('here');\n    this.setState({\n      order: {\n        _id,\n        name,\n        address,\n        status,\n        amount,\n        dishes,\n        buyer_messages,\n        vendor_messages\n      },\n      message_body: \"\"\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, this.props.user.account_type === \"Vendor\" ? React.createElement(Sidebar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }) : React.createElement(Navigationbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"container shadow p-4 col-sm-9 col-md-7 col-lg-7 mx-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"orderId\",\n      className: \"col-sm-2 col-form-label col-form-label-lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Order ID\"), React.createElement(\"div\", {\n      className: \"col-sm-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control form-control-lg order_detail_input\",\n      id: \"orderId\",\n      value: this.state.order._id,\n      readOnly: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-group row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"buyerName\",\n      className: \"col-sm-2 col-form-label col-form-label-lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"Buyer Name\"), React.createElement(\"div\", {\n      className: \"col-sm-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control form-control-lg order_detail_input\",\n      id: \"buyerName\",\n      value: this.state.order.name,\n      readOnly: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-group row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"address\",\n      className: \"col-sm-2 col-form-label col-form-label-lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"Buyer Address\"), React.createElement(\"div\", {\n      className: \"col-sm-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      className: \"form-control form-control-lg order_detail_input\",\n      id: \"address\",\n      value: this.state.order.address,\n      readOnly: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-group row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"amount\",\n      className: \"col-sm-2 col-form-label col-form-label-lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"Amount\"), React.createElement(\"div\", {\n      className: \"col-sm-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control form-control-lg order_detail_input\",\n      id: \"amount\",\n      value: this.state.order.amount,\n      readOnly: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-group row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"status\",\n      className: \"col-sm-2 col-form-label col-form-label-lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, \"Status\"), React.createElement(\"div\", {\n      className: \"col-sm-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control form-control-lg order_detail_input\",\n      id: \"status\",\n      value: this.state.order.status,\n      readOnly: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-group row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"col-sm-2 col-form-label col-form-label-lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, \"Dishes\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(BootstrapTable, {\n      keyField: \"name\",\n      data: this.state.order.dishes,\n      columns: columns,\n      bordered: true,\n      hover: true,\n      condensed: true,\n      striped: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"col-sm-2 col-form-label col-form-label-lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, \"Messages\")), React.createElement(\"div\", {\n      className: \"form-group column\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, \"Vendor Messages\", React.createElement(Accordion, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, this.state.order.vendor_messages && this.state.order.vendor_messages.length ? this.state.order.vendor_messages.map((value, index) => {\n      return React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, React.createElement(Card.Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, React.createElement(Accordion.Toggle, {\n        as: Button,\n        variant: \"link\",\n        eventKey: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, \"Message \", index + 1)), React.createElement(Accordion.Collapse, {\n        eventKey: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, React.createElement(Card.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, value)));\n    }) : null)), React.createElement(\"div\", {\n      className: \"form-group column\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, \"Buyer Messages\", React.createElement(Accordion, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, this.state.order.buyer_messages && this.state.order.buyer_messages.length ? this.state.order.buyer_messages.map((value, index) => {\n      return React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }, React.createElement(Card.Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, React.createElement(Accordion.Toggle, {\n        as: Button,\n        variant: \"link\",\n        eventKey: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, \"Message \", index + 1)), React.createElement(Accordion.Collapse, {\n        eventKey: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, React.createElement(Card.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, value)));\n    }) : null)), React.createElement(\"div\", {\n      className: \"form-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"address\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, \"Send Message\"), React.createElement(\"textarea\", {\n      className: \"form-control\",\n      id: \"message_body\",\n      value: this.state.message_body,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary m-3\",\n      onClick: this.handlePushMessage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, \"Send\")))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  order: state.order.active,\n  user: state.user\n});\n\nconst mapDispatchToProps = dispatch => ({\n  getOrderDetails: payload => dispatch(vendorActions.getOrderDetails(payload)),\n  pushMessage: payload => dispatch(messageActions.pushMessage(payload))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Orderdetails);","map":{"version":3,"sources":["/Users/admin/Desktop/Lab2-013708071/Lab2/client/src/components/Order/OrderDetails.jsx"],"names":["React","Component","connect","vendorActions","messageActions","BootstrapTable","Sidebar","Navigationbar","Accordion","Card","Button","columns","dataField","text","Orderdetails","constructor","props","handleChange","e","setState","target","id","value","handlePushMessage","preventDefault","payload","account_type","user","message_body","state","_id","order","pushMessage","name","address","status","amount","dishes","buyer_messages","vendor_messages","componentDidMount","order_id","match","params","getOrderDetails","componentWillReceiveProps","nextProps","buyer","console","log","render","length","map","index","mapStateToProps","active","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { vendorActions, messageActions } from \"../../js/actions\";\nimport \"react-bootstrap-table-next/dist/react-bootstrap-table2.min.css\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport Sidebar from \"../Sidebar/Sidebar\";\nimport Navigationbar from \"../Navbar/Navbar\";\nimport { Accordion, Card, Button } from \"react-bootstrap\";\nimport \"./style.css\";\nconst columns = [\n  {\n    dataField: \"name\",\n    text: \"Name\"\n  },\n  {\n    dataField: \"quantity\",\n    text: \"Quantity\"\n  }\n];\n\nclass Orderdetails extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      order: {\n        _id: \"\",\n        name: \"\",\n        address: \"\",\n        status: \"\",\n        amount: \"\",\n        dishes: [],\n        buyer_messages: [],\n        vendor_messages: []\n      },\n      message_body: \"\"\n    };\n  }\n  componentDidMount() {\n    const payload = {\n      order_id: this.props.match.params.order_id\n    };\n    this.props.getOrderDetails(payload);\n  }\n  componentWillReceiveProps(nextProps) {\n    const {\n      _id,\n      status,\n      amount,\n      dishes,\n      buyer_messages,\n      vendor_messages\n    } = nextProps.order;\n    const { name, address } = nextProps.order.buyer;\n    console.log('here')\n    this.setState({\n      order: {\n        _id,\n        name,\n        address,\n        status,\n        amount,\n        dishes,\n        buyer_messages,\n        vendor_messages\n      },\n      message_body: \"\"\n    });\n  }\n  handleChange = e => {\n    this.setState({\n      [e.target.id]: e.target.value\n    });\n  };\n  handlePushMessage = e => {\n    e.preventDefault();\n    const payload =  {\n        account_type: this.props.user.account_type,\n        message_body: this.state.message_body,\n        _id: this.state.order._id\n      }\n    this.props.pushMessage(payload);\n  };\n  render() {\n    return (\n      <div>\n        {this.props.user.account_type === \"Vendor\" ? (\n          <Sidebar />\n        ) : (\n          <Navigationbar />\n        )}\n        <div className=\"container shadow p-4 col-sm-9 col-md-7 col-lg-7 mx-auto\">\n          <form>\n            <div className=\"form-group row\">\n              <label\n                htmlFor=\"orderId\"\n                className=\"col-sm-2 col-form-label col-form-label-lg\"\n              >\n                Order ID\n              </label>\n              <div className=\"col-sm-10\">\n                <input\n                  type=\"text\"\n                  className=\"form-control form-control-lg order_detail_input\"\n                  id=\"orderId\"\n                  value={this.state.order._id}\n                  readOnly\n                ></input>\n              </div>\n            </div>\n            <div className=\"form-group row\">\n              <label\n                htmlFor=\"buyerName\"\n                className=\"col-sm-2 col-form-label col-form-label-lg\"\n              >\n                Buyer Name\n              </label>\n              <div className=\"col-sm-10\">\n                <input\n                  type=\"text\"\n                  className=\"form-control form-control-lg order_detail_input\"\n                  id=\"buyerName\"\n                  value={this.state.order.name}\n                  readOnly\n                ></input>\n              </div>\n            </div>\n            <div className=\"form-group row\">\n              <label\n                htmlFor=\"address\"\n                className=\"col-sm-2 col-form-label col-form-label-lg\"\n              >\n                Buyer Address\n              </label>\n              <div className=\"col-sm-10\">\n                <textarea\n                  className=\"form-control form-control-lg order_detail_input\"\n                  id=\"address\"\n                  value={this.state.order.address}\n                  readOnly\n                ></textarea>\n              </div>\n            </div>\n            <div className=\"form-group row\">\n              <label\n                htmlFor=\"amount\"\n                className=\"col-sm-2 col-form-label col-form-label-lg\"\n              >\n                Amount\n              </label>\n              <div className=\"col-sm-10\">\n                <input\n                  type=\"text\"\n                  className=\"form-control form-control-lg order_detail_input\"\n                  id=\"amount\"\n                  value={this.state.order.amount}\n                  readOnly\n                ></input>\n              </div>\n            </div>\n            <div className=\"form-group row\">\n              <label\n                htmlFor=\"status\"\n                className=\"col-sm-2 col-form-label col-form-label-lg\"\n              >\n                Status\n              </label>\n              <div className=\"col-sm-10\">\n                <input\n                  type=\"text\"\n                  className=\"form-control form-control-lg order_detail_input\"\n                  id=\"status\"\n                  value={this.state.order.status}\n                  readOnly\n                ></input>\n              </div>\n            </div>\n            <div className=\"form-group row\">\n              <label className=\"col-sm-2 col-form-label col-form-label-lg\">\n                Dishes\n              </label>\n            </div>\n            <div>\n              <BootstrapTable\n                keyField=\"name\"\n                data={this.state.order.dishes}\n                columns={columns}\n                bordered={true}\n                hover\n                condensed\n                striped\n              />\n            </div>\n            <div className=\"form-group row\">\n              <label className=\"col-sm-2 col-form-label col-form-label-lg\">\n                Messages\n              </label>\n            </div>\n            <div className=\"form-group column\">\n              Vendor Messages\n              <Accordion>\n                {this.state.order.vendor_messages &&\n                this.state.order.vendor_messages.length\n                  ? this.state.order.vendor_messages.map((value, index) => {\n                      return (\n                        <Card>\n                          <Card.Header>\n                            <Accordion.Toggle\n                              as={Button}\n                              variant=\"link\"\n                              eventKey={index}\n                            >\n                              Message {index + 1}\n                            </Accordion.Toggle>\n                          </Card.Header>\n                          <Accordion.Collapse eventKey={index}>\n                            <Card.Body>{value}</Card.Body>\n                          </Accordion.Collapse>\n                        </Card>\n                      );\n                    })\n                  : null}\n              </Accordion>\n            </div>\n            <div className=\"form-group column\">\n              Buyer Messages\n              <Accordion>\n                {this.state.order.buyer_messages &&\n                this.state.order.buyer_messages.length\n                  ? this.state.order.buyer_messages.map((value, index) => {\n                      return (\n                        <Card>\n                          <Card.Header>\n                            <Accordion.Toggle\n                              as={Button}\n                              variant=\"link\"\n                              eventKey={index}\n                            >\n                              Message {index + 1}\n                            </Accordion.Toggle>\n                          </Card.Header>\n                          <Accordion.Collapse eventKey={index}>\n                            <Card.Body>{value}</Card.Body>\n                          </Accordion.Collapse>\n                        </Card>\n                      );\n                    })\n                  : null}\n              </Accordion>\n            </div>\n            <div className=\"form-row\">\n              <div className=\"form-group col-md-12\">\n                <label htmlFor=\"address\">Send Message</label>\n                <textarea\n                  className=\"form-control\"\n                  id=\"message_body\"\n                  value={this.state.message_body}\n                  onChange={this.handleChange}\n                />\n              </div>\n              <button\n                type=\"submit\"\n                className=\"btn btn-primary m-3\"\n                onClick={this.handlePushMessage}\n              >\n                Send\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  order: state.order.active,\n  user: state.user\n});\nconst mapDispatchToProps = dispatch => ({\n  getOrderDetails: payload => dispatch(vendorActions.getOrderDetails(payload)),\n  pushMessage: payload => dispatch(messageActions.pushMessage(payload))\n});\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Orderdetails);\n"]},"metadata":{},"sourceType":"module"}